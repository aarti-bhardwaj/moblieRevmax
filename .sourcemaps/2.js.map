{"version":3,"sources":["../../src/pages/search-products/search-products.module.ts","../../src/pages/search-products/search-products.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SearchProductsPage } from './search-products';\n\n@NgModule({\n  declarations: [\n    SearchProductsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SearchProductsPage),\n  ],\n})\nexport class SearchProductsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search-products/search-products.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, ToastController } from 'ionic-angular';\nimport { RevmaxProvider as Revmax } from '../../providers/revmax';\nimport { AlertController } from 'ionic-angular';\nimport { App } from 'ionic-angular';\nimport { LoadingController } from 'ionic-angular';\nimport { AppConfigurationProvider as AppConfig } from '../../providers/configuration/app-configuration';\n\n/**\n * Generated class for the SearchProductsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage({\n  name: 'search-products',\n  segment: 'search-products'\n})\n@Component({\n  selector: 'page-search-products',\n  templateUrl: 'search-products.html',\n})\nexport class SearchProductsPage {\n  loader: any;\n  catSlug: any;\n  products: any;\n  recievedData: any;\n  attributeOptions: Array<any> = [];\n  actualProductCategories: any;\n  attributeResponse: {};\n  attributes: any;\n  productCategories: Array<any> =[];\n  productCatResponse:any;\n  productCatResponseName: any;\n  productCatSlug:any;\n  productCatName: any;\n  refreshFlag : boolean;\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    public viewCtrl: ViewController,\n    public Revmax: Revmax,\n    public toastCtrl: ToastController,\n    public alertCtrl: AlertController,\n    private appConfig: AppConfig,\n    public loadingCtrl: LoadingController,\n    public app: App\n    ) {\n    this.productCategories = this.Revmax.searchedCategories;\n    console.log('these are the categories from provider');\n    console.log(this.productCategories);\n  \n    this.refreshFlag = true;\n    this.productCatResponse = this.navParams.get(\"category\");\n    this.attributeResponse = this.navParams.get(\"attResponse\");\n    \n    this.attributes = this.Revmax.allAttributes;\n    this.attributeOptions = this.Revmax.attributeOptions;\n    console.log(\"Category response from home\");\n    console.log(this.productCatResponse);\n    console.log('allllll attributes');\n    console.log(this.attributeResponse);\n    // this.fetchAttributes();\n  }\n\n\n  /* search result only for product category  */\n  getProductCategory(data){\n    console.log('In category function');\n    console.log(\"this is the event\");\n    console.log(data);\n    console.log(this.productCatResponse);\n    for (let i = 0; i < this.productCategories.length; i++) {\n      if (this.productCatResponse == this.productCategories[i].id) {\n        this.productCatSlug = this.productCategories[i].slug;\n        this.productCatName = this.productCategories[i].name;\n\n      }\n    }\n\n    if (this.productCatResponse){\n          this.viewCtrl.dismiss().then(() => {\n            this.app.getRootNav().setRoot('product-category', {\n              'category': this.productCatResponse,\n              'slug': this.productCatSlug,\n              'catId': this.productCatResponse\n            });\n          });\n        \n      \n    }\n  }\n\n  getProductAttribute(){\n    this.presentLoading();\n    if (typeof this.productCatResponse != \"undefined\" && this.productCatResponse != null){\n      for (let i = 0; i < this.productCategories.length; i++) {\n        if (this.productCatResponse == this.productCategories[i].id) {\n          this.productCatSlug = this.productCategories[i].slug;\n          this.productCatName = this.productCategories[i].name;\n        }\n      }\n      console.log('here is the attribute response');\n      console.log(this.attributeResponse);\n      \n      this.appConfig.filterProducts(this.productCatSlug, this.attributeResponse)\n        .subscribe((response) => {\n          console.log('searched response');\n          console.log(response);\n          this.recievedData = response;\n          if (this.recievedData != null){\n            this.recievedData.attResponse = this.attributeResponse;\n            this.recievedData.catTitle = this.productCatSlug;\n          }\n          console.log(this.recievedData);\n          this.loader.dismiss();\n          this.viewCtrl.dismiss(this.recievedData);\n        },\n        (error) => {\n          this.loader.dismiss();\n          const alert = this.alertCtrl.create({\n            title: 'Error',\n            subTitle: 'Error in getting variations for this product.',\n            buttons: ['Ok']\n          });\n          alert.present();\n          console.log('in error');\n          console.log('error in getting variations for this product');\n          console.log(error);\n\n        });\n     \n    }else{\n      const alert = this.alertCtrl.create({\n        title: 'Select Category',\n        subTitle: 'Please select product category first.',\n        buttons: ['Ok']\n      });\n      alert.present();\n    }\n  }\n\n  refresh(){\n    this.refreshFlag = false;\n    console.log(\"before empty\");\n    console.log(this.attributeResponse);\n    console.log(\"In refresh\");\n    this.attributeResponse = {} ;\n    console.log(this.attributeResponse)\n  }\n\n  presentLoading() {\n    this.loader = this.loadingCtrl.create({\n      content: \"Loading...\",\n    });\n    this.loader.present();\n  }\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search-products/search-products.ts"],"sourceRoot":""}